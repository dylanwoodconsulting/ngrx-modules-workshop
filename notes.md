## 1/18/24

- [ ] todo
  - [x] remove PR from main repo
  - [x] update fork
- [ ] questions
  - [x] should store reflect UI or can it just be api responses and selectors become the view (specifically with VM selector)
    - [ ] export only what is needed
    - [ ] no general concerns with "over-memoization"
- [ ] suggestions
  - [ ] singular vs plural action naming
    - [ ] can explicitly say 'single' as opposed to just no 's'
  - [ ] global state suggestions
    - [ ] empty (everything is a feature that gets patched to it)
    - [ ] permissions, feature flags, shared (obv), etc
    - [ ] many things either need no state or only local state
  - [ ] optimistic vs pessimistic updates
    - [ ] optimistic
      - [ ] on highly successful or reliable apis
      - [ ] ui update should be minimal (counter for example)
      - [ ] should be within 2s from backend
      - [ ] don't do on something like purchase
  - [ ] avoid resolvers and effect life cycle hooks
  - [ ] router store
    - [ ] has a corresponding provider for standalone apis
      - [ ] all ngrx modules have a corresponding
- [ ] vscode
  - [x] installed intellicode
- [x] m6
  - [x] adjust api service to throw the error
  - [x] change cart service to return observable
  - [x] create actions for addToCartSuccess and addToCartError
  - [x] create effects for addToCartClicked (and error)
  - [x] handle addToCartError in reducer as well
  - [x] handle error in the error effects
- [x] m7
  - [x] add Router reducer and StoreRouterConnectingModule to the module
  - [x] use RouterState.Minimal
  - [x] add selectors for the state
- [x] m8
  - [x] adjust ProductState to not have optional properties (`| undefined` is fine)
  - [x] push the reducer into createFeature
  - [x] adjust selector to just re-export productFeature.selectProducts
  - [x] leave the forRoot with empty object and put productFeature into forFeature
  - [x] remove generic from Store in product-list
- [x] m9
  - [x] create selectors to get current product id and current product
  - [x] add action/effect for trigger fetching of current product
  - [x] reducer for singleProductFetchedSuccess
  - [x] adjust component to use the selector and dispatch productDetailsActions.pageOpened

## 1/17/24

- [x] clone app
  - [x] get it running
- [x] 304 Not Modified
- [x] nestjs
- [x] shareReplay
  - [ ] refCount true so no memory leak when component unsubs
- [ ] questions
  - [ ] how do you store state in local storage?
    - [ ] general questions on rehydration
  - [ ] ngOnInit vs inline vs constructor
    - [ ] if no input assignment, just do inline/constructor
    - [ ] optional is required if ngOnInit method
  - [ ] nested smart components
    - [ ] nested action sending
  - [ ] scaling of actions
    - [x] good action hygiene still appropriate?
    - [ ] actions as state transitions
      - [ ] how much should be aggregated?
  - [ ] how to handle/test lots and lots of actions
  - [ ] shared feature state
  - [ ] action that affects multiple states
    - [ ] mutiple actions or bring same action to multiple reducers?
  - [ ] how far to go with selectors? each individual slice?
- [ ] vscode
  - [ ] possibly readd intellisense addons
  - [ ] git tree compare
- [ ] ngrx team
  - [x] alex okrushko, marko stanimirovic, brandon roberts
  - [ ] suggestions
    - [ ] break up ms like 20 \* 1000
      - [ ] aka 2 \* 60 \* 60 \* 1000
      - [ ] can also do 20_000
    - [ ] webpack vs esbuild vs vite (which also uses esbuild)
    - [ ] typescript style guide
      - [x] ts.dev
    - [ ] effects
      - [ ] add an explicit return to help with errors
      - [ ] can just add an inject() to each function
        - [ ] inject within the body to avoid jest branch issues
          - [ ] use testbed and/or mock inject with this method
      - [ ] easier to test by just passing mock actions, etc
    - [ ] actions
      - [ ] keep actions close to the source
      - [ ] actions don't target a specific reducer
      - [ ] are events
      - [ ] success + error/failure suffix
      - [ ] createActionGroup
    - [ ] selectors
      - [ ] abstract
        - [ ] typing of store
        - [ ] selecting of state
        - [ ] memoization
    - [ ] nx ngrx
      - [ ] https://www.youtube.com/watch?v=PjssPd83VDc
- [x] m2
  - [x] add an action that is dispatched when page is opened
  - [x] create GlobalState and reducer that reacts to an action
  - [x] create selector
  - [x] adjust AppModule
- [x] m3
  - [x] create errors in backend service
  - [x] create actions for Success and Error
  - [x] react to page opened and create an effect for it
  - [x] handle errors
  - [x] update state in the reducer
- [x] m4
  - [x] create "State" interfaces in feature reducer
  - [x] add StoreModule.forFeature to Cart Module
  - [x] create addedToCart action
  - [x] create reducer to handle it
  - [x] create selectors for the feature
  - [x] use selector in cart icon component
  - [x] dispatch the addedToCart from Product Details
  - [x] add Cart Module to App Module
- [x] m5
  - [x] adjust getCartProducts() to return observable
  - [x] create Actions for timerTick, fetchCartItemsSuccess/Error
  - [x] create effects
  - [x] add CartEffects to the NgModule
  - [x] adjust Cart details to use selectors.getCartItems
  - [x] add to error effects
